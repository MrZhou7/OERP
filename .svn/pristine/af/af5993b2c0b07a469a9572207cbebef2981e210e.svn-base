(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d959"],{"03ij":function(e,t,r){},"311y":function(e,t,r){"use strict";var a=r("03ij");r.n(a).a},"8tD/":function(e,t,r){},U6qU:function(e,t,r){},YDqb:function(e,t,r){"use strict";var a=r("U6qU");r.n(a).a},oZKA:function(e,t,r){"use strict";r.r(t);var a={props:["ruleForm","parent_id"],data:function(){return{rules:{type_name:[{required:!0,message:"请输入品类名称",trigger:"blur"},{min:1,max:20,message:"长度在20 个字符以内",trigger:"blur"}],enabled:[{required:!0,message:"请选择是否有效",trigger:"blur"}],type_index:[{required:!0,message:"请选择级内顺序",trigger:"blur"}]}}},methods:{saveList:function(e){var t=this;this.$refs[e].validate(function(e){e?t.axios({method:"post",url:"http://10.1.200.85/v1/Operation_Type/editOperationType",data:t.ruleForm}).then(function(e){t.$message({message:"保存成功",type:"success"})}):t.$message({message:"请完善信息！！！",type:"warning"})})},delateList:function(){var e=this;this.$confirm("该信息将被删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message.error("该品类有效，无法删除!")}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},l=(r("YDqb"),r("KHd+")),s=Object(l.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addSubclass"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"经营品类名称",prop:"type_name"}},[r("el-input",{staticClass:"inputWindth",model:{value:e.ruleForm.type_name,callback:function(t){e.$set(e.ruleForm,"type_name",t)},expression:"ruleForm.type_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"经营品类编号"}},[r("el-input",{staticClass:"inputWindth",attrs:{disabled:!0},model:{value:e.ruleForm.type_code,callback:function(t){e.$set(e.ruleForm,"type_code",t)},expression:"ruleForm.type_code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所在级别"}},[r("el-input",{staticClass:"inputWindth",attrs:{disabled:!0},model:{value:e.ruleForm.type_level,callback:function(t){e.$set(e.ruleForm,"type_level",t)},expression:"ruleForm.type_level"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上级类别"}},[r("el-select",{staticClass:"inputWindth",attrs:{disabled:!0,placeholder:"请选择上级类别"},model:{value:e.parent_id,callback:function(t){e.parent_id=t},expression:"parent_id"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否有效",prop:"enabled"}},[r("el-radio-group",{model:{value:e.ruleForm.enabled,callback:function(t){e.$set(e.ruleForm,"enabled",t)},expression:"ruleForm.enabled"}},[r("el-radio",{attrs:{label:0}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("否")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"级内顺序",prop:"type_index"}},[r("el-input",{staticClass:"inputWindth",model:{value:e.ruleForm.type_index,callback:function(t){e.$set(e.ruleForm,"type_index",t)},expression:"ruleForm.type_index"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"说明",prop:"type_desc"}},[r("el-input",{staticClass:"inputWindth",attrs:{type:"textarea"},model:{value:e.ruleForm.type_desc,callback:function(t){e.$set(e.ruleForm,"type_desc",t)},expression:"ruleForm.type_desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveList("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){e.delateList()}}},[e._v("删除")])],1)],1)],1)},[],!1,null,"2eedff27",null);s.options.__file="categoryContent.vue";var i=s.exports,n={props:{parent_id:{type:Array,default:[]},type_level:{type:Number,default:null}},data:function(){return{rules:{type_name:[{required:!0,message:"请输入品类名称",trigger:"blur"},{min:1,max:20,message:"长度在 0 到 20 个字符",trigger:"blur"}],type_code:[{required:!0,message:"请输入品类编号",trigger:"blur"},{min:1,max:20,message:"长度在 0 到 20 个字符",trigger:"blur"}],boss:[{required:!0,message:"请选择上级类别",trigger:"change"}],enabled:[{required:!0,message:"请选择是否有效",trigger:"blur"}],type_index:[{required:!0,message:"请选择级内顺序",trigger:"blur"}]},ruleForm:{type_name:"",type_code:"",enabled:1,type_index:0,type_desc:"",boss:"",parentId:""}}},watch:{parent_id:function(e,t){this.ruleForm.boss=e[0].type_name}},methods:{saveList:function(e){for(var t=this,r=0;r<this.parent_id.length;r++)this.parent_id[r].type_name==this.ruleForm.boss&&(this.ruleForm.parentId=this.parent_id[r].parent_id);var a={type_name:this.ruleForm.type_name,type_code:this.ruleForm.type_code,type_desc:this.ruleForm.type_desc,type_level:this.type_level,parent_id:this.ruleForm.parentId,type_index:this.ruleForm.type_index,enabled:this.ruleForm.enabled};this.$refs[e].validate(function(e){e?t.axios({method:"post",url:"http://10.1.200.85/v1/Operation_Type/addCate",data:a}).then(function(e){t.$message({message:"保存成功",type:"success"}),t.cancle()}):t.$message({message:"请完善信息！！！",type:"warning"})})},cancle:function(){this.$emit("listenDialog",!1)}}},o=(r("311y"),Object(l.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addSubclass"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"经营品类名称",prop:"type_name"}},[r("el-input",{staticClass:"inputWindth",model:{value:e.ruleForm.type_name,callback:function(t){e.$set(e.ruleForm,"type_name",t)},expression:"ruleForm.type_name\t"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"经营品类编号",prop:"type_code"}},[r("el-input",{staticClass:"inputWindth",model:{value:e.ruleForm.type_code,callback:function(t){e.$set(e.ruleForm,"type_code",t)},expression:"ruleForm.type_code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所在级别"}},[r("el-input",{staticClass:"inputWindth",attrs:{disabled:!0},model:{value:e.type_level,callback:function(t){e.type_level=t},expression:"type_level"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上级类别",prop:"boss"}},[r("el-select",{staticClass:"inputWindth",attrs:{placeholder:"请选择上级类别"},model:{value:e.ruleForm.boss,callback:function(t){e.$set(e.ruleForm,"boss",t)},expression:"ruleForm.boss"}},e._l(e.parent_id,function(e){return r("el-option",{key:e.type_name,attrs:{label:e.type_name,value:e.type_name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否有效",prop:"enabled"}},[r("el-radio-group",{model:{value:e.ruleForm.enabled,callback:function(t){e.$set(e.ruleForm,"enabled",t)},expression:"ruleForm.enabled"}},[r("el-radio",{attrs:{label:0}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("否")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"级内顺序",prop:"type_index"}},[r("el-input",{staticClass:"inputWindth",model:{value:e.ruleForm.type_index,callback:function(t){e.$set(e.ruleForm,"type_index",t)},expression:"ruleForm.type_index"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"说明",prop:"type_desc"}},[r("el-input",{staticClass:"inputWindth",attrs:{type:"textarea"},model:{value:e.ruleForm.type_desc,callback:function(t){e.$set(e.ruleForm,"type_desc",t)},expression:"ruleForm.type_desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveList("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){e.cancle()}}},[e._v("取消")])],1)],1)],1)},[],!1,null,"40c1f98e",null));o.options.__file="addSubclass.vue";var u={components:{CategoryContent:i,AddSubclass:o.exports},data:function(){return{filterText:"",contentIsShow:!1,isShow:!1,dataTree:[],defaultProps:{children:"children",label:"text"},newLists:{},dialogVisible:!1,currentIndex:0,parent_id:"",subparentid:[]}},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.text.indexOf(e)},handleNodeClick:function(e,t){var r=this;this.isShow=!0,this.contentIsShow=!0,this.newLists=t.data.data;var a={parent_id:this.newLists.parent_id};this.axios({method:"post",url:"http://10.1.200.85/v1/Operation_Type/getName",data:a}).then(function(e){r.parent_id=e.data.data})},getCategoryTree:function(){var e=this;this.axios({method:"post",url:"http://10.1.200.85/v1/Operation_Type/cateList"}).then(function(t){e.dataTree=t.data.data})},addCategory:function(){var e=this;if(this.newLists.parent_id<0)return!1;this.dialogVisible=!0;var t={parent_id:this.newLists.parent_id};this.axios({method:"post",url:"http://10.1.200.85/v1/Operation_Type/equality",data:t}).then(function(t){e.subparentid=t.data.data})},showDialog:function(e){this.dialogVisible=e}},created:function(){this.getCategoryTree()}},p=(r("sLAe"),Object(l.a)(u,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"categoryWrap"},[e._v("品类管理")]),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("div",{staticClass:"category-tree-content"},[r("el-input",{attrs:{placeholder:"输入关键字进行品类搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),r("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{"highlight-current":!0,data:e.dataTree,props:e.defaultProps,"default-expand-all":"","filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),r("el-col",{attrs:{span:16}},[e.contentIsShow?r("div",{staticClass:"category-tree-content grid-content bg-purple-light"},[r("p",{staticClass:"category-text"},[e._v("品类信息 "),r("span",{staticClass:"addCategory",on:{click:e.addCategory}},[e._v("添加子类")])]),e._v(" "),r("CategoryContent",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{parent_id:e.parent_id,ruleForm:e.newLists}})],1):e._e()])],1),e._v(" "),r("el-dialog",{attrs:{title:"添加子类",visible:e.dialogVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("AddSubclass",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{parent_id:e.subparentid,operation_type_id:e.newLists.operation_type_id,type_level:e.newLists.type_level},on:{listenDialog:e.showDialog}})],1)],1)},[],!1,null,"a4886262",null));p.options.__file="index.vue";t.default=p.exports},sLAe:function(e,t,r){"use strict";var a=r("8tD/");r.n(a).a}}]);