{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-2580\"],{\"+xHb\":function(e,t,r){},H1AT:function(e,t,r){},ZSgm:function(e,t,r){},ZxkN:function(e,t,r){\"use strict\";var a=r(\"ZSgm\");r.n(a).a},chqQ:function(e,t,r){\"use strict\";var a=r(\"H1AT\");r.n(a).a},oZKA:function(e,t,r){\"use strict\";r.r(t);var a={props:[\"ruleForm\",\"parent_id\"],data:function(){return{rules:{type_name:[{required:!0,message:\"请输入品类名称\",trigger:\"blur\"},{min:3,max:5,message:\"长度在 3 到 5 个字符\",trigger:\"blur\"}],type_code:[{required:!0,message:\"请输入品类编号\",trigger:\"blur\"}],type_level:[{required:!0,message:\"请输所在级别\",trigger:\"blur\"}],parent_id:[{required:!0,message:\"请选择上级类别\",trigger:\"blur\"}],enabled:[{required:!0,message:\"请选择是否有效\",trigger:\"blur\"}],type_index:[{required:!0,message:\"请选择级内顺序\",trigger:\"blur\"}]}}},methods:{saveList:function(){var e=this;this.$confirm(\"已编辑重要信息，是否保存?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){console.log(e.ruleForm),e.axios({method:\"post\",url:\"http://10.1.200.85/api/v1.Operation_Type/editOperationType\",data:e.ruleForm}).then(function(t){e.$message({message:\"保存成功\",type:\"success\"})})}).catch(function(){e.$message({type:\"info\",message:\"已取消保存\"})})},delateList:function(){var e=this;this.$confirm(\"该信息将被删除, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){e.$message.error(\"该品类有效，无法删除!\")}).catch(function(){e.$message({type:\"info\",message:\"已取消删除\"})})}}},l=(r(\"rxW4\"),r(\"KHd+\")),i=Object(l.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"addSubclass\"},[r(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.ruleForm,rules:e.rules,\"label-width\":\"150px\"}},[r(\"el-form-item\",{attrs:{label:\"经营品类名称\",prop:\"type_name\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},model:{value:e.ruleForm.type_name,callback:function(t){e.$set(e.ruleForm,\"type_name\",t)},expression:\"ruleForm.type_name\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"经营品类编号\",prop:\"type_code\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{disabled:!0},model:{value:e.ruleForm.type_code,callback:function(t){e.$set(e.ruleForm,\"type_code\",t)},expression:\"ruleForm.type_code\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"所在级别\",prop:\"type_level\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{disabled:!0},model:{value:e.ruleForm.type_level,callback:function(t){e.$set(e.ruleForm,\"type_level\",t)},expression:\"ruleForm.type_level\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"上级类别\",prop:\"parent_id\"}},[r(\"el-select\",{attrs:{disabled:!0,placeholder:\"请选择上级类别\"},model:{value:e.parent_id,callback:function(t){e.parent_id=t},expression:\"parent_id\"}},[r(\"el-option\",{attrs:{label:\"区域一\",value:\"shanghai\"}})],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"是否有效\",prop:\"enabled\"}},[r(\"el-radio-group\",{model:{value:e.ruleForm.enabled,callback:function(t){e.$set(e.ruleForm,\"enabled\",t)},expression:\"ruleForm.enabled\"}},[r(\"el-radio\",{attrs:{label:0}},[e._v(\"是\")]),e._v(\" \"),r(\"el-radio\",{attrs:{label:1}},[e._v(\"否\")])],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"级内顺序\",prop:\"type_index\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},model:{value:e.ruleForm.type_index,callback:function(t){e.$set(e.ruleForm,\"type_index\",t)},expression:\"ruleForm.type_index\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"说明\",prop:\"type_desc\"}},[r(\"el-input\",{attrs:{type:\"textarea\"},model:{value:e.ruleForm.type_desc,callback:function(t){e.$set(e.ruleForm,\"type_desc\",t)},expression:\"ruleForm.type_desc\"}})],1),e._v(\" \"),r(\"el-form-item\",[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.saveList()}}},[e._v(\"保存\")]),e._v(\" \"),r(\"el-button\",{on:{click:function(t){e.delateList()}}},[e._v(\"删除\")])],1)],1)],1)},[],!1,null,\"edc90068\",null);i.options.__file=\"categoryContent.vue\";var s=i.exports,o={props:{parent_id:{type:Array,default:[]},type_level:{type:Number,default:null}},data:function(){return{rules:{type_name:[{required:!0,message:\"请输入品类名称\",trigger:\"blur\"},{min:0,max:5,message:\"长度在 0 到 5 个字符\",trigger:\"blur\"}],type_code:[{required:!0,message:\"请输入品类编号\",trigger:\"blur\"}],type_level:[{required:!0,message:\"请输所在级别\",trigger:\"blur\"}],boss:[{required:!0,message:\"请选择上级类别\",trigger:\"change\"}],enabled:[{required:!0,message:\"请选择是否有效\",trigger:\"blur\"}],type_index:[{required:!0,message:\"请选择级内顺序\",trigger:\"blur\"}]},ruleForm:{type_name:\"\",type_code:\"\",enabled:1,type_index:0,type_desc:\"\",boss:\"\"}}},watch:{parent_id:function(e,t){this.ruleForm.boss=e[0].type_name},ruleForm:function(e,t){cnsole.log(e)}},methods:{saveList:function(){var e=this,t={type_name:this.ruleForm.type_name,type_code:this.ruleForm.type_code,type_desc:this.ruleForm.type_desc,type_level:this.type_level,parent_id:this.ruleForm.parent_id,type_index:this.ruleForm.type_index,enabled:this.ruleForm.enabled};console.log(t),this.axios({method:\"post\",url:\"http://10.1.200.85/api/v1.Operation_Type/addCate\",data:t}).then(function(t){e.$message({message:\"保存成功\",type:\"success\"}),e.cancle()})},cancle:function(){console.log(parent_id),this.$emit(\"listenDialog\",!1)}}},n=(r(\"chqQ\"),Object(l.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"addSubclass\"},[r(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.ruleForm,rules:e.rules,\"label-width\":\"150px\"}},[r(\"el-form-item\",{attrs:{label:\"经营品类名称\",prop:\"type_name\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},model:{value:e.ruleForm.type_name,callback:function(t){e.$set(e.ruleForm,\"type_name\",t)},expression:\"ruleForm.type_name\\t\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"经营品类编号\",prop:\"type_code\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},model:{value:e.ruleForm.type_code,callback:function(t){e.$set(e.ruleForm,\"type_code\",t)},expression:\"ruleForm.type_code\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"所在级别\",prop:\"type_level\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{disabled:!0},model:{value:e.type_level,callback:function(t){e.type_level=t},expression:\"type_level\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"上级类别\",prop:\"boss\"}},[r(\"el-select\",{attrs:{placeholder:\"请选择上级类别\"},model:{value:e.ruleForm.boss,callback:function(t){e.$set(e.ruleForm,\"boss\",t)},expression:\"ruleForm.boss\"}},e._l(e.parent_id,function(e){return r(\"el-option\",{key:e.type_name,attrs:{label:e.type_name,value:e.type_name}})}))],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"是否有效\",prop:\"enabled\"}},[r(\"el-radio-group\",{model:{value:e.ruleForm.enabled,callback:function(t){e.$set(e.ruleForm,\"enabled\",t)},expression:\"ruleForm.enabled\"}},[r(\"el-radio\",{attrs:{label:0}},[e._v(\"是\")]),e._v(\" \"),r(\"el-radio\",{attrs:{label:1}},[e._v(\"否\")])],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"级内顺序\",prop:\"type_index\"}},[r(\"el-input\",{staticStyle:{width:\"200px\"},model:{value:e.ruleForm.type_index,callback:function(t){e.$set(e.ruleForm,\"type_index\",t)},expression:\"ruleForm.type_index\"}})],1),e._v(\" \"),r(\"el-form-item\",{attrs:{label:\"说明\",prop:\"type_desc\"}},[r(\"el-input\",{attrs:{type:\"textarea\"},model:{value:e.ruleForm.type_desc,callback:function(t){e.$set(e.ruleForm,\"type_desc\",t)},expression:\"ruleForm.type_desc\"}})],1),e._v(\" \"),r(\"el-form-item\",[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.saveList()}}},[e._v(\"保存\")]),e._v(\" \"),r(\"el-button\",{on:{click:function(t){e.cancle()}}},[e._v(\"取消\")])],1)],1)],1)},[],!1,null,\"445c5ca8\",null));n.options.__file=\"addSubclass.vue\";var p={components:{CategoryContent:s,AddSubclass:n.exports},data:function(){return{contentIsShow:!1,isShow:!1,dataTree:[],defaultProps:{children:\"children\",label:\"text\"},newLists:{},dialogVisible:!1,currentIndex:0,parent_id:\"\",subparentid:[]}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e,t){var r=this;this.isShow=!0,this.contentIsShow=!0,this.newLists=t.data.data;var a={parent_id:this.newLists.parent_id};this.axios({method:\"post\",url:\"http://10.1.200.85/api/v1.Operation_Type/getName\",data:a}).then(function(e){r.parent_id=e.data.data})},getCategoryTree:function(){var e=this;this.axios({method:\"post\",url:\"http://10.1.200.85/api/v1.Operation_Type/cateList\"}).then(function(t){e.dataTree=t.data.data})},addCategory:function(){var e=this;if(this.newLists.parent_id<0)return!1;this.dialogVisible=!0;var t={parent_id:this.newLists.parent_id};this.axios({method:\"post\",url:\"http://10.1.200.85/api/v1.Operation_Type/equality\",data:t}).then(function(t){e.subparentid=t.data.data})},showDialog:function(e){this.dialogVisible=e}},created:function(){this.getCategoryTree()}},u=(r(\"ZxkN\"),Object(l.a)(p,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"app-container\"},[r(\"blockquote\",{staticClass:\"category-top\"},[e._v(\"品类管理\")]),r(\"hr\"),e._v(\" \"),r(\"el-row\",[r(\"el-col\",{attrs:{span:8}},[r(\"div\",{staticClass:\"category-tree-content grid-content bg-purple\"},[r(\"p\",{staticClass:\"category-text\"},[e._v(\"经营品类\")]),e._v(\" \"),r(\"el-tree\",{ref:\"tree2\",staticClass:\"filter-tree\",attrs:{data:e.dataTree,props:e.defaultProps,\"default-expand-all\":!0,\"filter-node-method\":e.filterNode},on:{\"node-click\":e.handleNodeClick}})],1)]),e._v(\" \"),r(\"el-col\",{attrs:{span:16}},[e.contentIsShow?r(\"div\",{staticClass:\"category-tree-content grid-content bg-purple-light\"},[r(\"p\",{staticClass:\"category-text\"},[e._v(\"品类信息 \"),r(\"span\",{staticClass:\"addCategory\",on:{click:e.addCategory}},[e._v(\"添加子类\")])]),e._v(\" \"),r(\"CategoryContent\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.isShow,expression:\"isShow\"}],attrs:{parent_id:e.parent_id,ruleForm:e.newLists}})],1):e._e()])],1),e._v(\" \"),r(\"el-dialog\",{attrs:{title:\"添加子类\",visible:e.dialogVisible,\"close-on-click-modal\":!1,width:\"30%\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[r(\"AddSubclass\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.isShow,expression:\"isShow\"}],attrs:{parent_id:e.subparentid,operation_type_id:e.newLists.operation_type_id,type_level:e.newLists.type_level},on:{listenDialog:e.showDialog}})],1)],1)},[],!1,null,\"2da714a8\",null));u.options.__file=\"index.vue\";t.default=u.exports},rxW4:function(e,t,r){\"use strict\";var a=r(\"+xHb\");r.n(a).a}}]);","extractedComments":[]}